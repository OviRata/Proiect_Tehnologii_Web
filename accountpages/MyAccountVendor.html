<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Web Garden</title>
  <meta name="description" content="">
  <link rel="stylesheet" href="../resources/css/style.css">
  <link rel="stylesheet" href="../resources/css/menustyle.css">
  <link rel="stylesheet" href="../resources/css/profileContainer.css">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>


  <script src="../resources/js/role.js"></script>
  <script src="../resources/js/config.js"></script>
  <script src="../resources/js/urlHelper.js"></script>
  <script src="../resources/js/app.js"></script>
  <script src="../resources/js/menuByRole.js"></script>


  <script src="../login+register/login_register_logic.js"></script>

</head>
<body>
<div class="flex-wrapper">
  <div class="mainmenu">
    <a href="index.html" class="logo" id="home">
      Bloom Buddy</a>
    <div class="navbar-desktop">
      <li class="nav-item" id="list-search1"> <a href="#" id="search1">Search</a></li>
      <li class="nav-item" id="list-mygarden1"><a href="#" id="mygarden1">My garden</a></li>
      <li class="nav-item" id="list-mycart1"><a href="#" id="mycart1">My shopping cart</a></li>
      <li class="nav-item" id="list-myAccount1"><a href="#" id="myAccount1">My account</a></li>
    </div>

    <button class="navbar-toggler" id="navbar-toggler">
      <span></span>
      <span></span>
      <span></span>
    </button>




    <script src="../resources/js/navbar-script.js"></script>
  </div>
  <div class="navbar-menu" id="navbar-menu">
    <ul class="navbar-nav" id = "navbar-nav">
      <li class="nav-item" id="list-search"> <a href="#" id="search">Search</a></li>
      <li class="nav-item" id="list-mygarden"><a href="#" id="mygarden">My garden</a></li>
      <li class="nav-item" id="list-mycart"><a href="#" id="mycart">My shopping cart</a></li>
      <li class="nav-item" id="list-myAccount"><a href="#" id="myAccount">My account</a></li>
    </ul>
  </div>

  <div class = "notification-button-container">
    <a  id="notifications" > <button>My Notifications </button> </a>
  </div>


  <div class="profile-container">
    <h1 class="profile-container-title">User Profile</h1>
    <div class="profile">
      <div class="profile-info">
        <h2>Profile Information</h2>
        <form id="profile-form">
          <label for="username">Username:</label>
          <input type="text" id="username" name="username" value="JohnDoe" disabled>
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" value="johndoe@example.com">
          <label for="fullname">Full Name:</label>
          <input type="text" id="fullname" name="fullname" value="John Doe">

          <label for="type">Type:</label>
          <input type="text" id="type" name="type" disabled>
          <script>
            document.getElementById("type").disabled=false;
            document.getElementById("type").value=globalRole;
            document.getElementById("type").disabled=true;

            document.getElementById("username").disabled=false;
            document.getElementById("username").value=globalUsername;
            //document.getElementById("username").disabled=true;

            document.getElementById("fullname").disabled=false;
            document.getElementById("fullname").value=globalFullName;
            //document.getElementById("fullname").disabled=true;

            document.getElementById("email").disabled=false;
            document.getElementById("email").value=globalEmail;
            //document.getElementById("email").disabled=true;
          </script>

          <label for="bio">Bio:</label>
          <textarea id="bio" name="bio">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</textarea>
        </form>

        <script src="../authentification/extractPayLoad.js"></script>
        <script src="../resources/js/loggedUser/changeData.js"></script>
        <button id="save-changes-button" onclick="((async ()=>{await changeData();})())" >Save Changes</button>

      </div>
      <div class="profile-avatar">
        <img src="../resources/img/avatar.jpg" alt="Profile Picture">
        <input type="file" id="avatar" name="avatar" accept="image/*">
        <label for="avatar">Change Avatar</label>
      </div>

    </div>
  </div>

  <div class = "logout-button-container">
    <button id="logoutBtn"
    >Logout</button>
  </div>




</div>


<script>
  document.getElementById('logoutBtn').addEventListener('click', function() {
    console.log("logging out");
    localStorage.setItem("globalRole","notlogged");
    localStorage.removeItem("globalUsername");
    localStorage.removeItem("globalEmail");
    localStorage.removeItem("globalFullname");
    localStorage.removeItem("accessToken");
    window.location.href = "/accountpages/MyAccountNotLoggedIn.html";
  });
  hideForRole(globalRole);
</script>


</body>
</html>

